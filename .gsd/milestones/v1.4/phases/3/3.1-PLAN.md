# Phase 3: Semantic Enrichment

**Status:** DRAFT
**Goal:** Implement robust, type-safe JSON-LD Schema to "speak the language" of Search Engines and AI Agents.

## Objectives
1.  **Type Safety:** Replace untyped JSON blobs with a typed Schema Generator (`schema-dts`).
2.  **Product Identity:** Ensure `SoftwareApplication` schema is correctly injected on the Landing Page.
3.  **Documentation Structure:** Add `BreadcrumbList` schema to `/guide` pages to help agents understand the hierarchy.

## Tasks

### 3.1. Install `schema-dts`
**Context:** We currently manually type schema objects in `aeo.ts`. This is error-prone.
**Action:** Install `schema-dts` (Standard TypeScript definitions for Schema.org).
**Command:** `npm install schema-dts`

### 3.2. Refactor `SchemaGenerator`
**Context:** `shared/lib/aeo.ts` has manual types.
**Action:** Refactor `aeo.ts` to use `WithContext<Thing>` from `schema-dts`.
**Methods to Refactor:**
- `softwareApp`: Return `WithContext<SoftwareApplication>`
- `faq`: Return `WithContext<FAQPage>`
- `collection`: (New) Return `WithContext<CollectionPage>` or `BreadcrumbList`

### 3.3. Implement Breadcrumbs
**Context:** The `/guide` section (AI FAQ, Magic Links) has no structural data.
**Action:** Inject `BreadcrumbList` schema into `app/guide/layout.tsx` (or individual pages if no layout exists).

## Verification Plan

### Manual Verification
1.  **Validator:** Use [Google Rich Results Test](https://search.google.com/test/rich-results) (or verify JSON output in View Source).
2.  **Breadcrumbs:** Verify `ItemListElement` structure in the generated JSON-LD.

### Automated Tests
- None required for static schema generation beyond TS compilation checks.
