# Phase 2: Technical Foundation (Marketing Focus)

**Status:** DRAFT
**Goal:** Optimize the "Public Surface" (Marketing) for AI Agents while strictly enforcing privacy for "Private Surface" (Events).

## Objectives
1.  **AI Discoverability:** Create a dedicated "Sitemap for AI" (`llms.txt`).
2.  **Crawler Control:** Explicitly welcome AI bots to marketing pages via `robots.txt` (Hosted only).
3.  **App Identity:** Establish PWA/App Store identity in `layout.tsx`.

## Tasks

### 2.1. Implement `llms.txt` (AI Sitemap)
**Context:** Standard for helping LLMs navigate documentation and core purpose.
**Action:** Create `public/llms.txt`.
**Content:**
- **H1:** Tabletop Time
- **Summary:** "Free D&D Session Scheduler & RPG Game Night Planner."
- **Links:**
    - `Help / AI FAQ`: `/guide/ai-faq`
    - `About`: `/about`
    - `Features`: `/features`
    - `Pricing`: `/pricing` (Free)
    - `GitHub`: Source code link

### 2.2. AEO Robots Strategy (Privacy Aware)
**Context:** Current `robots.ts` is purely binary (Allow All / Disallow All). We need nuances.
**Action:** Update `app/robots.ts`.
**Logic (Hosted Mode):**
- **UserAgent: *** -> `Allow: /`, `Disallow: /e/`, `Disallow: /api/`, `Disallow: /manage/`
- **UserAgent: GPTBot, ClaudeBot, Google-Extended** -> `Allow: /` (Inherits disallows above).
**Logic (Self-Hosted):**
- `Disallow: /` (Privacy First).

### 2.3. PWA & App Identity
**Context:** `layout.tsx` metadata is minimal.
**Action:** Add `Metadata` properties.
- `applicationName`: "Tabletop Scheduler"
- `appleWebApp`: Capable, Title "Tabletop", StatusBarStyle "black-translucent".
- `formatDetection`: Telephone=false.

## Verification Plan

### Manual Verification
1.  **Robots:** Access `/robots.txt` on localhost (mocking `IS_HOSTED=true`). Verify `Disallow: /e/` exists.
2.  **LLM:** Access `/llms.txt`. Verify content renders as plain text markdown.
3.  **Metadata:** Inspect `<head>` in DevTools. Verify `apple-mobile-web-app-capable` exists.

### Automated Tests
- None required for static config changes (Manual verification sufficient).
