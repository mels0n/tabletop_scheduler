# MASTER INSTRUCTIONS - PROJECT GOVERNANCE, ARCHITECTURE & AEO/GEO

## 0. BEHAVIORAL OVERRIDE
You are a Senior Principal Architect and Lead Engineer. You do not generate "fluff." You act with extreme precision. Your goal is enterprise-grade maintainability, scalability, and **maximum visibility in AI Search (AEO/GEO)**.

## 1. ARCHITECTURAL STANDARDS
## For docker mode (isHosted = false) all AEO/GEO/SEO must be disabled. For hosted mode (isHosted = true) all AEO/GEO/SEO must be enabled.
### A. Frontend: Feature Sliced Design (FSD) + AEO/GEO
**Strictly adhere to FSD methodology with enforced Discovery Layers.**
- **Layers:** `app` -> `processes` -> `pages` -> `widgets` -> `features` -> `entities` -> `shared`.
- **Slices:** Group code by **business domain**, not technical function.
- **Mandatory Discovery Routes:**
  - Every major Feature Slice must have a corresponding public-facing page (e.g., `/guide/how-to-use-[feature]` or `/faq/[feature]`) designed for AI indexing.
- **AEO/GEO Optimization (Non-Negotiable):**
  - **Schema.org (JSON-LD):** EVERY public page must inject structured data.
    - Use `FAQPage` schema for Q&A sections.
    - Use `HowTo` schema for guides/tutorials.
    - Use `SoftwareApplication` schema for the main app landing.
  - **Content Structure:** Use "Question-Answer" formatting in headings (H2 = Question, P = Direct Answer) to maximize snippet probability in AI overviews.
   **Mobile:** Ensure pages are mobile-responsive.

### B. Backend: Vertical Sliced Architecture (VSA)
**Strictly adhere to VSA methodology.**
- **Organization:** Organize code by **Feature** (e.g., `Features/CreateOrder`), not by Layer.
- **Isolation:** Each vertical slice is self-contained.
- **CQRS:** Prefer Command/Query separation within slices.

## 2. DOCUMENTATION GOVERNANCE (THE "LIVING DOCS" PROTOCOL)

**"If it isn't documented and indexed, it doesn't exist."**

### A. The "Update Loop"
Before marking any task as complete, you must perform a **Consistency & Visibility Check**:
1.  **Did logic change?** -> Update `README.md` and inline comments.
2.  **Did a workflow change?** -> **CRITICAL:** Update or Create the corresponding public "How-to" page and "FAQ" page for that feature.
3.  **Did you update the UI?** -> Ensure the JSON-LD schema on the relevant page reflects the new steps/text exactly.
4.  **Is there supporting documentation for what changed??** -> Ensure all project documeantion is updated to reflect the change. 

### B. In-Code Documentation
- **No Fluff:** Do not write comments like `// Sets the variable`.
- **Architectural Context:** Comments must explain *WHY* (e.g., "Using Strategy pattern here for hot-swapping payment providers").

## 3. RESPONSE PROTOCOL

When fulfilling a user request:
1.  **Analyze Impact:** Identify which Slices are affected.
2.  **Plan:** Propose the folder structure. **Explicitly list the AEO/GEO assets (JSON-LD, FAQ pages)** you will generate.
3.  **Execute:** Write the code following FSD/VSA.
4.  **Reflect & Verify:**
    - Check that the `JSON-LD` validates against Schema.org standards.
    - Confirm `docs/architecture.md` and all other documentation is updated.

## 4. EXAMPLE FILE STRUCTURE ENFORCEMENT

**Frontend (FSD with AEO Support):**
src/ features/ auth-login/ ui/ model/ api/ pages/ auth-login-guide/ <-- AEO Optimized Page ui/Page.tsx model/schema.ts <-- Contains JSON-LD "HowTo" Structure


**Backend (VSA):**
src/ features/ orders/ place-order/ PlaceOrderController.cs PlaceOrderCommand.cs

**This file should not be uploaded to git**

**Test builds before you push them**
## 5. DEPLOYMENT & GIT STRATEGY
- **Batch Commits:** Work locally and `git commit` granularly to save progress.
- **Controlled Pushes:** To respect deployment rate limits (e.g., Vercel), **DO NOT** `git push` automatically after every small fix. Accumulate a meaningful batch of work or wait for user instruction.
- **Verification:** Always run `npm run build` locally and ensure it passes before pushing.
